
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字过滤工具</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gradient-to-r from-blue-50 to-indigo-100 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg p-6 space-y-6">
        <h1 class="text-2xl font-bold text-center text-gray-800">数字过滤工具</h1>
        
        <!-- 输入区域 -->
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">排除数字（支持点或逗号分隔，可选）：</label>
                <input type="text" id="excludeInput" placeholder="例如: 5.06.17.20.32.37.39.45 或 5,06,17,20,32,37,39,45" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-transparent">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">尾号匹配（支持连字符或逗号分隔，可选）：</label>
                <input type="text" id="matchInput" placeholder="例如: 0-1-2-3-4-5-6 或 0,1,2,3,4,5,6" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-transparent">
            </div>
        </div>

        <!-- 操作按钮 -->
        <div class="flex justify-center">
            <button onclick="processNumbers()" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition duration-200 transform hover:scale-105 shadow-md">
                <i class="fas fa-calculator mr-2"></i>计算结果
            </button>
        </div>

        <!-- 输出区域 -->
        <div class="mt-6">
            <h2 class="text-lg font-semibold text-gray-700 mb-2">结果：</h2>
            <textarea id="resultOutput" readonly class="w-full h-32 p-4 border rounded-lg bg-gray-50 resize-none"></textarea>
        </div>
    </div>

    <script>
        function processNumbers() {
            const excludeStr = document.getElementById('excludeInput').value;
            const matchStr = document.getElementById('matchInput').value;

            // 解析排除数字（支持点或逗号分隔）
            let excludeSet = new Set();
            if (excludeStr.trim()) {
                try {
                    // 支持点分隔和逗号分隔
                    const separator = excludeStr.includes('.') ? '.' : ',';
                    excludeSet = new Set(excludeStr.split(separator).map(x => parseInt(x.trim())).filter(x => !isNaN(x)));
                } catch (e) {
                    alert("排除数字格式错误");
                    return;
                }
            }

            // 解析匹配尾号（支持连字符或逗号分隔）
            let matchDigits = new Set();
            if (matchStr.trim()) {
                try {
                    // 支持连字符分隔和逗号分隔
                    const separator = matchStr.includes('-') ? '-' : ',';
                    matchDigits = new Set(matchStr.split(separator).map(x => parseInt(x.trim())).filter(x => !isNaN(x) && x >= 0 && x <= 9));
                } catch (e) {
                    alert("尾号匹配格式错误");
                    return;
                }
            }

            // 构建1-100数组并处理
            const result = [];
            for (let i = 1; i <= 49; i++) {
                // 如果有排除数字，则过滤
                if (excludeSet.size > 0 && excludeSet.has(i)) continue;
                
                // 如果有尾号匹配要求，则按尾号过滤
                if (matchDigits.size > 0) {
                    const lastDigit = i % 10;
                    if (matchDigits.has(lastDigit)) {
                        result.push(i.toString().padStart(2, '0'));
                    }
                } 
                // 如果没有尾号匹配要求，则所有未被排除的数字都加入结果
                else if (excludeSet.size === 0 || !excludeSet.has(i)) {
                    result.push(i.toString().padStart(2, '0'));
                }
            }

            document.getElementById('resultOutput').value = result.join(',');
        }
    </script>
</body>
</html>
